# 第 68A 章 机器人运动学

<div class="context-flow" markdown>

**前置**：齐次坐标(Ch67) · 旋转表示(Ch67) · 矩阵求导(Ch47)

**本章脉络**：关节空间与工作空间 → 变换矩阵级联 → Denavit-Hartenberg (D-H) 参数化 → 正运动学 → 逆运动学 → 雅可比矩阵(Jacobian) → 速度映射 → 奇异性分析 → 可操作性椭球

**延伸**：雅可比矩阵是机器人力控与视觉伺服的计算基石；可操作性指标为机械臂的机构设计提供了代数优化的判据

</div>

机器人运动学研究多刚体系统构型空间与笛卡尔空间之间的映射。该领域利用 $SE(3)$ 李群及其代数描述复杂的链式几何约束，将机械结构的运动规律转化为变换矩阵的非线性代数方程组。

---

## 68A.1 运动学建模理论

!!! definition "定义 68A.1 (正运动学级联)"
    机械臂末端位姿 $T_e$ 由各关节变换矩阵 $T_i(\theta_i)$ 依序复合而成：
    $$T_e(\theta) = T_1(\theta_1) T_2(\theta_2) \dots T_n(\theta_n) \in SE(3)$$
    其中 $\theta$ 是关节变量空间（配置空间）的向量。

!!! theorem "定理 68A.3 (几何雅可比算子)"
    雅可比矩阵 $J(\theta)$ 建立了关节速度向量 $\dot{\theta}$ 到末端空间速度（线速度与角速度） $v = [\omega; v]^T$ 的线性映射：
    $$v = J(\theta) \dot{\theta}$$
    该矩阵的零空间与像空间刻画了机构的局部运动受限特性。

---

## 练习题

1. **[变换复合] 解释为什么串联机器人的正运动学建模可以完全归结为矩阵链乘问题。**
   ??? success "参考答案"
       每个连杆通过关节相对于前一个连杆进行旋转或平移。根据齐次变换矩阵的叠加性质，末端相对于基座的坐标变换等于所有中间相对变换矩阵的乘积。

2. **[D-H参数] 分析 Denavit-Hartenberg 参数化方法中各分量矩阵的代数结构及其对坐标系选取的约束。**
   ??? success "参考答案"
       D-H 变换由绕 $z$ 轴旋转/平移和绕 $x$ 轴旋转/平移复合而成。它要求相邻 $z$ 轴的公垂线作为 $x$ 轴，从而将一般 6 参数变换缩减为 4 参数，实现了运动学建模的标准化。

3. **[逆运动学] 说明逆运动学（IK）解的不唯一性及其在代数上对应的超越方程多解现象。**
   ??? success "参考答案"
       IK 求解等价于求解 $T(\theta) = T_{target}$。由于涉及大量 $\sin, \cos$ 项，该非线性方程组在定义域内通常对应多个孤立解（如“肘部向上”与“肘部向下”构型），或因工作空间限制而无解。

4. **[Jacobian推导] 证明：对于 $n$ 轴机械臂，其雅可比矩阵的第 $i$ 列对应于第 $i$ 个关节在末端产生的速度分量。**
   ??? success "参考答案"
       由全微分关系 $v = \sum \frac{\partial T_e}{\partial \theta_i} \dot{\theta_i}$。对于转动关节，第 $i$ 列为 $[z_{i-1}; z_{i-1} \times (p_e - p_{i-1})]$，反映了瞬时转动中心的几何贡献。

5. **[奇异性分析] 分析雅可比矩阵 $\det(J J^T) = 0$ 时的代数意义及其对控制系统的影响。**
   ??? success "参考答案"
       奇异点意味着 $J$ 亏秩，系统在任务空间失去一个或多个自由度。此时逆运动学速度解 $\dot{\theta} = J^{-1} v$ 会产生无穷大关节速度，导致控制器失效。

6. **[计算] 给定 2 自由度平面连杆（长度 $l_1, l_2$），推导其雅可比矩阵并找出所有的奇异构型。**
   ??? success "参考答案"
       $J = \begin{pmatrix} -l_1 s_1 - l_2 s_{12} & -l_2 s_{12} \\ l_1 c_1 + l_2 c_{12} & l_2 c_{12} \end{pmatrix}$。
       $\det(J) = l_1 l_2 s_2$。奇异点为 $\theta_2 = 0$ 或 $\pi$（连杆完全伸直或折叠）。

7. **[可操作性] 定义 Yoshikawa 可操作性指标 $w = \sqrt{\det(J J^T)}$，并说明其在轨迹规划中的评价作用。**
   ??? success "参考答案"
       该指标衡量了末端在各方向运动能力的“体积”。在轨迹规划中，应尽量避开 $w \to 0$ 的区域，以保证对外界扰动有足够的运动补偿余量。

8. **[虚功原理] 利用线性代数证明关节力矩 $\tau$ 与末端作用力 $f$ 满足平衡方程 $\tau = J^T f$。**
   ??? success "参考答案"
       由功率守恒（虚功相等）：$f^T v = \tau^T \dot{\theta}$。代入 $v = J \dot{\theta}$ 得 $f^T J \dot{\theta} = \tau^T \dot{\theta}$。由于 $\dot{\theta}$ 任意，故 $\tau^T = f^T J \implies \tau = J^T f$。

9. **[冗余解析] 对于冗余机器人（$n > 6$），解释如何利用 $J$ 的广义逆和零空间投影进行任务优先级控制。**
   ??? success "参考答案"
       通用解为 $\dot{\theta} = J^\dagger v + (I - J^\dagger J) z$。其中 $z$ 是任意向量，其投影项 $(I - J^\dagger J) z$ 属于 $J$ 的零空间，不影响末端运动，可用于满足避障等次级目标。

10. **[螺旋理论] 简述指数坐标表示法（Product of Exponentials）相比传统 D-H 方法在处理微分运动时的优势。**
    ??? success "参考答案"
        PoE 公式基于 Lie 代数的指数映射 $e^{\hat{\xi}\theta}$。它将整个运动链视为一系列螺旋运动的复合，避免了局部坐标系定义的歧义，且 Jacobian 矩阵的计算更具全局一致性。

## 本章小结

本章论述了描述多刚体机器人几何演化的代数体系：

1. **构型映射**：通过变换矩阵级联确立了从关节空间到任务空间的解析映射模型。
2. **微分运动学**：引入雅可比矩阵作为系统的核心算子，揭示了配置空间与工作空间之间的速度与力矩转换关系。
3. **性能评价**：确立了奇异性与可操作性等代数指标，为机器人构型优化与控制稳定性提供了定量判据。
4. **冗余处理**：展示了线性子空间理论在冗余自由度系统任务规划中的关键作用。
