/* ============================
   线性代数全览 - 自定义样式
   ============================ */

/* 全局排版 */
.md-typeset {
  font-size: 0.82rem;
  line-height: 1.8;
}

.md-typeset h1 {
  font-weight: 700;
  margin-bottom: 0.8em;
  border-bottom: 2px solid var(--md-primary-fg-color);
  padding-bottom: 0.3em;
}

.md-typeset h2 {
  font-weight: 600;
  margin-top: 2em;
  border-bottom: 1px solid var(--md-default-fg-color--lightest);
  padding-bottom: 0.2em;
}

.md-typeset h3 {
  font-weight: 600;
  margin-top: 1.5em;
}

/* 数学公式溢出处理 */
.md-typeset .arithmatex {
  overflow-x: auto;
  overflow-y: hidden;
  padding: 0.2em 0;
}

.md-typeset .MathJax {
  font-size: 1.05em !important;
}

/* 行间公式间距 */
.md-typeset .arithmatex > .MathJax {
  margin: 0.8em 0;
}

/* ============================
   导航栏滚动条修复 (绝对覆盖模式)
   ============================ */

/* 强制 Header 不截断内容 */
.md-header {
  overflow: visible !important;
}

/* 导航容器强制滚动 */
.md-tabs {
  background-color: var(--md-primary-fg-color) !important;
  overflow-x: auto !important;
  overflow-y: hidden !important;
  display: block !important;
  white-space: nowrap !important;
  -webkit-overflow-scrolling: touch !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* 内部列表禁止换行，强制水平排列 */
.md-tabs__list {
  display: flex !important;
  flex-flow: row nowrap !important;
  height: 48px !important;
  align-items: center !important;
  margin: 0 !important;
  padding: 0 20px !important;
  width: max-content !important; 
  list-style: none !important;
}

/* 每个导航项保持原样，不压缩 */
.md-tabs__item {
  display: inline-block !important;
  flex: 0 0 auto !important;
  margin-right: 24px !important;
}

/* 滚动条样式定制 - 确保可见 */
.md-tabs::-webkit-scrollbar {
  height: 6px !important;
  display: block !important;
}

.md-tabs::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.5) !important;
  border-radius: 10px !important;
}

.md-tabs::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1) !important;
}

/* ============================
   自定义 Admonition 类型
   ============================ */

/* 定义 - 蓝色 */
:root {
  --md-admonition-icon--definition: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>');
}

.md-typeset .admonition.definition,
.md-typeset details.definition {
  border-color: #2979ff;
}

.md-typeset .definition > .admonition-title,
.md-typeset .definition > summary {
  background-color: rgba(41, 121, 255, 0.1);
}

.md-typeset .definition > .admonition-title::before,
.md-typeset .definition > summary::before {
  background-color: #2979ff;
  -webkit-mask-image: var(--md-admonition-icon--definition);
  mask-image: var(--md-admonition-icon--definition);
}

/* 定理 - 绿色 */
:root {
  --md-admonition-icon--theorem: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7z"/></svg>');
}

.md-typeset .admonition.theorem,
.md-typeset details.theorem {
  border-color: #00c853;
}

.md-typeset .theorem > .admonition-title,
.md-typeset .theorem > summary {
  background-color: rgba(0, 200, 83, 0.1);
}

.md-typeset .theorem > .admonition-title::before,
.md-typeset .theorem > summary::before {
  background-color: #00c853;
  -webkit-mask-image: var(--md-admonition-icon--theorem);
  mask-image: var(--md-admonition-icon--theorem);
}

/* 引理 - 青色 */
:root {
  --md-admonition-icon--lemma: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z"/></svg>');
}

.md-typeset .admonition.lemma,
.md-typeset details.lemma {
  border-color: #00bcd4;
}

.md-typeset .lemma > .admonition-title,
.md-typeset .lemma > summary {
  background-color: rgba(0, 188, 212, 0.1);
}

.md-typeset .lemma > .admonition-title::before,
.md-typeset .lemma > summary::before {
  background-color: #00bcd4;
  -webkit-mask-image: var(--md-admonition-icon--lemma);
  mask-image: var(--md-admonition-icon--lemma);
}

/* ============================
   深度连接内容（context-flow）
   ============================ */

.context-flow {
  border-left: 3px solid var(--md-primary-fg-color);
  padding: 0.3em 1em;
  margin: 0.6em 0;
  font-size: 0.88em;
  line-height: 1.7;
  color: var(--md-default-fg-color--light);
}

[data-md-color-scheme="default"] .context-flow {
  background: rgba(63, 81, 181, 0.04);
}

[data-md-color-scheme="slate"] .context-flow {
  background: rgba(159, 168, 218, 0.07);
}

.context-flow p {
  margin: 0.3em 0;
}

.context-flow strong {
  color: var(--md-primary-fg-color);
}

/* ============================
   难度标签
   ============================ */

.difficulty-tag {
  display: inline-block;
  padding: 0.15em 0.6em;
  border-radius: 1em;
  font-size: 0.75em;
  font-weight: 600;
  margin-left: 0.5em;
  vertical-align: middle;
}

.difficulty-tag.beginner {
  background-color: #e8f5e9;
  color: #2e7d32;
}

.difficulty-tag.intermediate {
  background-color: #fff3e0;
  color: #e65100;
}

.difficulty-tag.advanced {
  background-color: #fce4ec;
  color: #c62828;
}

.difficulty-tag.research {
  background-color: #ede7f6;
  color: #4a148c;
}

/* ============================
   打印样式
   ============================ */

@media print {
  .md-typeset .admonition,
  .md-typeset details {
    break-inside: avoid;
  }

  .md-typeset .arithmatex {
    overflow: visible;
  }
}
